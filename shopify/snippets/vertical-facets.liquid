<facet-filters-form class="facets facets-vertical-sort page-width small-hide no-js-hidden">
  <form class="facets-vertical-form" id="FacetSortForm">
    <div class="facet-filters sorting caption">
      <div class="facet-filters__field">
        <h2 class="facet-filters__label caption-large text-body">
          <label for="SortBy">{{ 'products.facets.sort_by_label' | t }}</label>
        </h2>
        <div class="select">
          {%- assign sort_by = collection.sort_by | default: collection.default_sort_by -%}
          <select
            name="sort_by"
            class="facet-filters__sort select__select caption-large"
            id="SortBy"
            aria-describedby="a11y-refresh-page-message">
            <option value="manual" {% if sort_by == 'manual' %}selected="selected"{% endif %}>
              Recommended
            </option>
            <option value="created-descending" {% if sort_by == 'created-descending' %}selected="selected"{% endif %}>
              New In
            </option>
            <option value="price-descending" {% if sort_by == 'price-descending' %}selected="selected"{% endif %}>
              Price High to Low
            </option>
            <option value="price-ascending" {% if sort_by == 'price-ascending' %}selected="selected"{% endif %}>
              Price Low to High
            </option>
          </select>
          <svg
            width="16"
            height="16"
            class="icon icon-caret"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M7.5 11L4 7H11L7.5 11Z" fill="black" />
          </svg>
        </div>
      </div>
      <noscript>
        <button type="submit" class="facets__button-no-js button button--secondary">
          {{ 'products.facets.sort_button' | t }}
        </button>
      </noscript>
    </div>

    {% if enable_grid_changer %}
      <div class="grid-switcher">
        <div
          id="two-grid-switcher"
          class="grid-switcher-option {% if grid_count == 2 %}active{% endif %}"
          grid_count="2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="33"
            height="18"
            viewBox="0 0 33 18"
            fill="none">
            <rect
              x="0.5"
              y="0.5"
              width="15"
              height="17"
              fill="white"></rect>
            <rect
              x="17.5"
              y="0.5"
              width="15"
              height="17"
              fill="white"></rect>
          </svg>
        </div>
        <div
          id="three-grid-switcher"
          class="grid-switcher-option {% if grid_count == 3 %}active{% endif %}"
          grid_count="3">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="34"
            height="18"
            viewBox="0 0 34 18"
            fill="none">
            <rect
              x="0.5"
              y="0.5"
              width="9"
              height="17"
              fill="white"></rect>
            <rect
              x="12.5"
              y="0.5"
              width="9"
              height="17"
              fill="white"></rect>
            <rect
              x="24.5"
              y="0.5"
              width="9"
              height="17"
              fill="white"></rect>
          </svg>
        </div>
        <div
          id="four-grid-switcher"
          class="grid-switcher-option {% if grid_count == 4 %}active{% endif %}"
          grid_count="4">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="31"
            height="18"
            viewBox="0 0 31 18"
            fill="none">
            <rect
              x="0.5"
              y="0.5"
              width="6"
              height="7"
              fill="white"></rect>
            <rect
              x="0.5"
              y="10.5"
              width="6"
              height="7"
              fill="white"></rect>
            <rect
              x="8.5"
              y="0.5"
              width="6"
              height="7"
              fill="white"></rect>
            <rect
              x="8.5"
              y="10.5"
              width="6"
              height="7"
              fill="white"></rect>
            <rect
              x="16.5"
              y="0.5"
              width="6"
              height="7"
              fill="white"></rect>
            <rect
              x="16.5"
              y="10.5"
              width="6"
              height="7"
              fill="white"></rect>
            <rect
              x="24.5"
              y="0.5"
              width="6"
              height="7"
              fill="white"></rect>
            <rect
              x="24.5"
              y="10.5"
              width="6"
              height="7"
              fill="white"></rect>
          </svg>
        </div>
        <input
          type="hidden"
          name="view_on"
          id="view_on"
          value="{{ grid_count }}">
      </div>
    {% else %}
      <input
        type="hidden"
        name="view_on"
        id="view_on"
        value="{{ grid_count }}">
    {% endif %}

    <div class="product-count-vertical light" role="status">
      <h2 class="product-count__text text-body">
        <span id="ProductCountDesktop">
          {%- if collection.results_count -%}
            {{ 'templates.search.results_with_count' | t: terms: collection.terms, count: collection.results_count }}
          {%- elsif collection.products_count == collection.all_products_count -%}
            {{ 'products.facets.product_count_simple' | t: count: collection.products_count }}
          {%- else -%}
            {{
               'products.facets.product_count'
               | t: product_count: collection.products_count, count: collection.all_products_count }}
          {%- endif -%}
        </span>
      </h2>
      <!--
        <div class="loading-overlay__spinner">
        <svg
        aria-hidden="true"
        focusable="false"
        class="spinner"
        viewBox="0 0 66 66"
        xmlns="http://www.w3.org/2000/svg"
        >
        <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
        </svg>
        </div>
      -->
    </div>
  </form>
</facet-filters-form>